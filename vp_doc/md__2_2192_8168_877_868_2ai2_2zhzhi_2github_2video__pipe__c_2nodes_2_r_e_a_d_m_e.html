<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VideoPipe: important tips when using node</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VideoPipe
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">important tips when using node</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md15"></a>Most nodes support multi-channel, which means that multiple channels of data can be used as its input. In addition, some nodes do not support multi-channel by default, that is, there can only be one channel of data as its input (the input channel index cannot be changed once it is determined), otherwise an error will occur. The following are common examples:</p>
<p><em>support multi-channel</em></p><ul>
<li>all infer nodes, broker nodes, because they work independently of the channel index.</li>
<li>split node, it works independently of channel index too. it could be used to split pipeline into multi branches accordding to different channel index.</li>
<li>some nodes which has been designed to support multi-channel, such as record nodes, track nodes, ba nodes, which are able to distinguish different channels inside logic code (<code>such as using std::map&lt;int, ...&gt; to maintain different data of channels</code>).</li>
</ul>
<p><em>do NOT support multi-channel</em></p><ul>
<li>all src node and all des node, you MUST specify channel index when initializing instances of them.</li>
<li>part of osd nodes, because they work dependently of channel index, you can do some work to let them support multi-channel, for example just use some data structure like <code>std::map&lt;int, ...&gt;</code> to maintain different data of channels inside code of nodes.</li>
</ul>
<p>Note, although some nodes support multi-channel, you'd better be careful because using single instance of node to deal with multiple channels of data would have lower performance(process data serially
). On the contrary, one instance dealing with only one channel of data (multiple channels use multiple instances of the SAME node) have higher performance(process data in parallel). below is an example of 2 methods to create pipeline: </p><div class="fragment"><div class="line">single instance of track/ba node works on 2 channelsï¼š</div>
<div class="line">file_src_0                                                                                             --&gt; osd_0 --&gt; screen_des_0</div>
<div class="line">           --&gt; detector --&gt; multi-classifiers --&gt; tracker --&gt; ba_crossline --&gt; split(by channel index)</div>
<div class="line">file_src_1                                                                                             --&gt; osd_1 --&gt; screen_des_1 </div>
<div class="line"> </div>
<div class="line">2 instances of track/ba node work on 2 channels:</div>
<div class="line">file_src_0                                                                --&gt; tracker_0 --&gt; ba_crossline_0 --&gt; osd_0 --&gt; screen_des_0</div>
<div class="line">           --&gt; detector --&gt; multi-classifiers --&gt; split(by channel index) </div>
<div class="line">file_src_1                                                                --&gt; tracker_0 --&gt; ba_crossline_0 --&gt; osd_1 --&gt; screen_des_1 </div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
## common node list [<code>ctrl+f</code> to search] ##</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">id   </th><th class="markdownTableHeadNone">node   </th><th class="markdownTableHeadNone">usage   </th><th class="markdownTableHeadNone">status   </th><th class="markdownTableHeadNone">sample code    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">vp_ba_node   </td><td class="markdownTableBodyNone">++++   </td><td class="markdownTableBodyNone">not implemented yet   </td><td class="markdownTableBodyNone">on the way    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">vp_des_node   </td><td class="markdownTableBodyNone">base class for DES nodes   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">vp_fake_des_node   </td><td class="markdownTableBodyNone">do nothing just keep pipe complete   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">vp_file_des_node   </td><td class="markdownTableBodyNone">writing video to file   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">vp_file_src_node   </td><td class="markdownTableBodyNone">reading video from file   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">vp_infer_node   </td><td class="markdownTableBodyNone">base class for all infer nodes   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7   </td><td class="markdownTableBodyNone">vp_message_broker_node   </td><td class="markdownTableBodyNone">++++   </td><td class="markdownTableBodyNone">not implemented yet   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8   </td><td class="markdownTableBodyNone">vp_node   </td><td class="markdownTableBodyNone">base class for all nodes   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">9   </td><td class="markdownTableBodyNone">vp_primary_infer_node   </td><td class="markdownTableBodyNone">base class for all primary infer nodes, which infer on whole frame   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">10   </td><td class="markdownTableBodyNone">vp_rtmp_des_node   </td><td class="markdownTableBodyNone">pushing video to server via rtmp   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">11   </td><td class="markdownTableBodyNone">vp_rtsp_src_node   </td><td class="markdownTableBodyNone">reading video from rtsp server   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">12   </td><td class="markdownTableBodyNone">vp_screen_des_node   </td><td class="markdownTableBodyNone">displaying video on screen   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">13   </td><td class="markdownTableBodyNone">vp_secondary_infer_node   </td><td class="markdownTableBodyNone">base class for all secondary infer nodes, which infer on small cropped image   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">14   </td><td class="markdownTableBodyNone">vp_skip_node   </td><td class="markdownTableBodyNone">skip node which setting skipping rule for infer   </td><td class="markdownTableBodyNone">not implemented yet   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">15   </td><td class="markdownTableBodyNone">vp_split_node   </td><td class="markdownTableBodyNone">split pipe into multi branches, support by channel and deep-copy   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">16   </td><td class="markdownTableBodyNone">vp_src_node   </td><td class="markdownTableBodyNone">base class for all SRC nodes   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
</table>
<p>| 17 | vp_track_node | ++++ | not implemented yet | | 18 | vp_udp_src_node | reading video from network via udp/rtp | tested | | | 19 | vp_record_node | video/image recording node | on the way | | | * | <code>more</code> | wait for your contribution | on the way | |</p>
<h1><a class="anchor" id="autotoc_md17"></a>
## infers node list [with some customization] ##</h1>
<blockquote class="doxtable">
<p>&zwj;<code>with some customization</code> means the node should be applied with other special nodes or depend on specific situation. </p>
</blockquote>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">id   </th><th class="markdownTableHeadNone">node   </th><th class="markdownTableHeadNone">usage   </th><th class="markdownTableHeadNone">status   </th><th class="markdownTableHeadNone">sample code    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">vp_classifier_node   </td><td class="markdownTableBodyNone">image classifier based opencv:dnn   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone">on the way    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">vp_feature_encoder_node   </td><td class="markdownTableBodyNone">image feature encoder based opencv::dnn   </td><td class="markdownTableBodyNone">on the way   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">vp_openpose_detector_node   </td><td class="markdownTableBodyNone">pose detector based on opencv::dnn(OpenPose)   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">vp_ppocr_text_detector_node   </td><td class="markdownTableBodyNone">ocr based on paddlepaddle(paddle_ocr from Badidu)   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">vp_sface_feature_encoder_node   </td><td class="markdownTableBodyNone">face feature encoder based on opencv::dnn(sface)   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">vp_trt_vehicle_detector   </td><td class="markdownTableBodyNone">vehicle detector based on tensorrt(YOLOv5s)   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7   </td><td class="markdownTableBodyNone">vp_trt_vehicle_plate_detector   </td><td class="markdownTableBodyNone">vehicle plate detector based on tensorrt(YOLOv5s)   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8   </td><td class="markdownTableBodyNone">vp_yolo_detector_node   </td><td class="markdownTableBodyNone">object detector based on opencv::dnn(yolo series)   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">9   </td><td class="markdownTableBodyNone">vp_yunet_face_detector_node   </td><td class="markdownTableBodyNone">face detector based on opencv::dnn(yunet)   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">*   </td><td class="markdownTableBodyNone"><code>more</code>   </td><td class="markdownTableBodyNone">wait for your contribution   </td><td class="markdownTableBodyNone">on the way   </td><td class="markdownTableBodyNone"></td></tr>
</table>
<h1><a class="anchor" id="autotoc_md18"></a>
## osd node list [with some customization] ##</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">id   </th><th class="markdownTableHeadNone">node   </th><th class="markdownTableHeadNone">usage   </th><th class="markdownTableHeadNone">status   </th><th class="markdownTableHeadNone">sample code    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">vp_face_osd_node_v2   </td><td class="markdownTableBodyNone">face target display, including similarity at the bottom of frame   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone">on the way    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">vp_face_osd_node   </td><td class="markdownTableBodyNone">face target display   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">vp_osd_node_v2   </td><td class="markdownTableBodyNone">target display, including sub-target at the bottom of frame   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">vp_osd_node   </td><td class="markdownTableBodyNone">target display   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">vp_pose_osd_node   </td><td class="markdownTableBodyNone">pose target display   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">vp_text_osd_node   </td><td class="markdownTableBodyNone">text target display   </td><td class="markdownTableBodyNone">tested   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">*   </td><td class="markdownTableBodyNone"><code>more</code>   </td><td class="markdownTableBodyNone">wait for your contribution   </td><td class="markdownTableBodyNone">on the way   </td><td class="markdownTableBodyNone"></td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
